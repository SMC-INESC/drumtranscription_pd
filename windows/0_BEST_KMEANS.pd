#N canvas 547 146 786 564 12;
#X declare -path abstractions -path data;
#N canvas 721 472 574 209 init 0;
#X obj 46 57 t b b b b;
#X msg 72 148 \; pd dsp 1 \;;
#X obj 31 129 s lb4;
#X obj 138 97 s lb1;
#X obj 118 127 s lb2;
#X obj 203 162 declare -path abstractions -path data;
#X obj 46 36 loadbang;
#X obj 72 187 print;
#X connect 0 0 2 0;
#X connect 0 1 1 0;
#X connect 0 2 4 0;
#X connect 0 3 3 0;
#X connect 1 0 7 0;
#X connect 6 0 0 0;
#X restore 9 -52 pd init;
#X obj 10 441 s b_bass;
#X obj 10 234 r~ audioin;
#X obj 86 189 r~ audioin;
#X text 29 272 Feature Computation;
#X obj 10 291 compute_features_kick_best;
#X obj 86 234 onsets_aubio_bass_best;
#X text 93 216 Onset Detection Kick;
#X obj 261 233 r~ audioin;
#X obj 337 188 r~ audioin;
#X text 280 271 Feature Computation;
#X obj 337 233 onsets_aubio_snare_best;
#X obj 261 290 compute_features_snare_best;
#X text 344 215 Onset Detection Snare;
#X obj 522 231 r~ audioin;
#X obj 598 186 r~ audioin;
#X text 541 269 Feature Computation;
#X obj 522 288 compute_features_hihat_best;
#X obj 598 231 onsets_aubio_hihat_best;
#X text 605 213 Onset Detection Hihat;
#X obj 522 438 s b_hihat;
#X obj 261 440 s b_snare;
#X obj 117 144 s~ audioinf;
#X obj 284 -75 loadbang;
#X msg 213 -32 0.4;
#X obj 117 115 soundplayer;
#X msg 178 -31 0;
#N canvas 0 22 323 288 resynthesis 0;
#X obj 139 66 spigot~;
#X obj 139 29 resynthesis;
#X obj 53 41 r~ audioin;
#X obj 167 96 *~;
#X obj 53 69 *~;
#X obj 71 -14 * -1;
#X obj 113 130 *~;
#X obj 106 161 dac~;
#X obj 53 97 delay~ 110;
#X obj 71 14 + 0.5;
#X obj 139 -3 + 0.4;
#X obj 71 -56 inlet;
#X obj 161 -55 inlet;
#X obj 9 -53 inlet;
#X connect 0 1 3 0;
#X connect 0 1 3 1;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 8 0;
#X connect 5 0 9 0;
#X connect 6 0 7 0;
#X connect 6 0 7 1;
#X connect 8 0 6 0;
#X connect 9 0 4 1;
#X connect 10 0 1 0;
#X connect 10 0 1 1;
#X connect 10 0 1 2;
#X connect 11 0 5 0;
#X connect 11 0 10 0;
#X connect 12 0 6 1;
#X connect 13 0 0 1;
#X restore 210 113 pd resynthesis;
#N canvas 0 22 313 287 switch_input 0;
#X obj 18 64 adc~;
#X obj 18 105 spigot~;
#X obj 17 142 s~ audioinm;
#X obj 116 109 r~ audioinf;
#X obj 115 142 s~ audioin;
#X msg 115 54 set audioinm;
#X msg 28 20 set audioinf;
#X obj 28 -11 moses 1;
#X obj 28 -43 t f a;
#X obj 28 -74 inlet;
#X connect 0 0 1 0;
#X connect 0 1 1 0;
#X connect 1 1 2 0;
#X connect 3 0 4 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 7 0;
#X connect 8 1 1 1;
#X connect 9 0 8 0;
#X restore -1 116 pd switch_input;
#N canvas 0 22 456 240 midioutput 0;
#X obj 17 61 r b_bass;
#X text 15 40 Detected Kick;
#X obj 17 161 noteout 1;
#X obj 161 164 noteout 1;
#X text 159 43 Detected Snare;
#X obj 318 159 noteout 1;
#X obj 161 64 r b_snare;
#X obj 318 59 r b_hihat;
#X text 315 38 Detected HiHat;
#X obj 17 124 makenote 100 100;
#X obj 161 127 makenote 100 100;
#X obj 319 122 makenote 100 100;
#X obj 17 91 f 35;
#X obj 42 14 inlet;
#X obj 186 15 inlet;
#X obj 342 14 inlet;
#X obj 161 95 f 38;
#X obj 318 90 f 44;
#X connect 0 0 12 0;
#X connect 6 0 16 0;
#X connect 7 0 17 0;
#X connect 9 0 2 0;
#X connect 9 1 2 1;
#X connect 10 0 3 0;
#X connect 10 1 3 1;
#X connect 11 0 5 0;
#X connect 11 1 5 1;
#X connect 12 0 9 0;
#X connect 13 0 12 1;
#X connect 14 0 16 1;
#X connect 15 0 17 1;
#X connect 16 0 10 0;
#X connect 17 0 11 0;
#X restore 321 112 pd midioutput;
#X msg 327 -33 set 36;
#X msg 393 -35 set 38;
#X msg 467 -36 set 44;
#X obj 1 -1 cnv 15 400 100 empty empty DRUM_TRANSCRIPTION 10 12 0 14
-228856 -13381 0;
#X obj 10 25 tgl 20 0 empty empty Mic_Input 23 9 0 12 -204786 -33289
-13381 0 1;
#X obj 10 71 bng 15 250 50 0 empty empty load 17 7 0 12 -204786 -1
-13330;
#X obj 62 72 bng 15 250 50 0 play empty play 17 7 0 12 -204786 -1 -13330
;
#X text 111 25 OR;
#X obj 172 15 tgl 15 0 empty empty empty 17 7 0 10 -204786 -1 -13330
0 1;
#X text 188 12 resynthesis;
#X obj 175 35 hsl 120 15 -0.5 0.3 0 0 empty empty empty -2 -8 0 10
-204786 -1 -1 7437 1;
#X obj 175 74 hsl 120 15 0 0.99 0 0 empty empty empty -2 -8 0 10 -204786
-1 -1 4808 1;
#X text 169 56 Volume;
#X text 8 49 Load&Play Audio File;
#X obj 111 72 bng 15 250 50 0 stop empty stop 17 7 0 12 -204786 -1
-13330;
#X floatatom 314 22 3 0 120 1 Kick - -;
#X floatatom 314 46 3 0 120 1 Snare - -;
#X floatatom 314 72 3 0 120 1 HiHat - -;
#X text 300 1 Midi Note Out;
#X text 26 381 Online Clustering;
#X text 277 380 Online Clustering;
#X text 538 378 Online Clustering;
#X obj 522 396 detect_drum_classes_online_hihat;
#X obj 261 398 detect_drum_classes_online_snare;
#X obj 10 399 detect_drum_classes_online_kick;
#X obj 280 336 initKmeans_best;
#X connect 2 0 5 0;
#X connect 3 0 6 0;
#X connect 5 0 54 0;
#X connect 6 0 5 1;
#X connect 8 0 12 0;
#X connect 9 0 11 0;
#X connect 11 0 12 1;
#X connect 12 0 53 0;
#X connect 14 0 17 0;
#X connect 15 0 18 0;
#X connect 17 0 52 0;
#X connect 18 0 17 1;
#X connect 23 0 24 0;
#X connect 23 0 26 0;
#X connect 23 0 30 0;
#X connect 23 0 31 0;
#X connect 23 0 32 0;
#X connect 24 0 41 0;
#X connect 25 0 22 0;
#X connect 26 0 40 0;
#X connect 30 0 45 0;
#X connect 31 0 46 0;
#X connect 32 0 47 0;
#X connect 34 0 28 0;
#X connect 35 0 25 0;
#X connect 36 0 25 1;
#X connect 38 0 40 0;
#X connect 38 0 27 0;
#X connect 40 0 27 1;
#X connect 41 0 27 2;
#X connect 44 0 25 2;
#X connect 45 0 29 0;
#X connect 46 0 29 1;
#X connect 47 0 29 2;
#X connect 52 0 20 0;
#X connect 53 0 21 0;
#X connect 54 0 1 0;
#X connect 55 0 54 0;
#X connect 55 1 53 0;
#X connect 55 2 52 0;
#X coords 0 -1 1 1 400 100 2 0 0;
